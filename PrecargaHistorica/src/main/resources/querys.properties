moduloDatosCurriculares = SELECT '{ "id" : '|| DECODE(es.ID_ESCOLARIDAD, null, 'null','"'||es.ID_ESCOLARIDAD||'"')|| ' , "idPosicionVista" : "'||(rownum ) || '", "registroHistorico" : true , "verificar" : false, "tipoOperacion" : null, "nivel" : null, "institucionEducativa" : ' || DECODE(es.INSTITUCION, null , 'null', '"'||replace(es.INSTITUCION, '"', '')||'"')|| ' , "carreraAreaConocimiento" : ' || DECODE(es.CARRERA_AREA, null , 'null', '"' ||es.CARRERA_AREA||'"')|| ' , "estatus" : ' || DECODE(ee.descripcion , null, 'null', 'SIN DESCRIPCION' , 'null', 'SIN ASIGNAR', 'null', '"'||ee.descripcion||'"') || ' , "documentoObtenido" : { "tipo" :'||DECODE(db.descripcion, null ,'null', 'OTRO', 'null', 'NINGUNO', 'null', '"'||db.descripcion||'"')|| ' , "fechaObtencion" : null }, "ubicacion" : ' ||DECODE(lg.descripcion , null, 'null', 'SIN LUGAR' , 'null', '"'||lg.descripcion||'"') ||'}' as \"registro\" from declaranet.escolaridad es join declaranet.escolaridades esc on es.id_escolaridad = esc.id_escolaridad join declaranet.cat_nivel_academico na on na.id_nivel_academico = es.id_nivel_academico left join declaranet.cat_estatus_escolaridad ee on ee.id_estatus_escolaridad = esc.id_estatus_escolaridad left join declaranet.cat_documento_obtenido db on db.id_documento_obtenido = esc.id_documento_obtenido left join declaranet.cat_lugar lg on lg.id_lugar = es.id_lugar where no_declaracion = ? order by es.id_escolaridad asc

moduloExperienciaLab = SELECT '{"id" :' || DECODE(el.ID_EXPERIENCIA_LABORAL, null, 'null', '"'||el.ID_EXPERIENCIA_LABORAL||'"') || ' , "idPosicionVista" : "'||(rownum) ||'" , "registroHistorico" : true  , "verificar" : false , "tipoOperacion" : null  , "actividadLaboral" : {  "ambitoSector" : ' || DECODE(sec.descripcion, 'PUBLICO', '{"id":1, "valor":"PUBLICO"}', 'PRIVADO' , '{"id":2, "valor":"PRIVADO"}' , '{"id":9999, "valor":"OTRO (ESPECIFIQUE)"}')|| ' , "ambitoSectorOtro" : ' || DECODE(el.ID_SECTOR, 1, 'null' , 2 , 'null' , DECODE(sec.descripcion, null , 'null', '"'||sec.descripcion||'"')) || ' , "sectorPublico" : ' || DECODE(sec.descripcion, 'PUBLICO','{ "nivelOrdenGobierno" : '|| DECODE(am.descripcion, 'FEDERAL', '"FEDERAL"', 'ESTATAL' , '"ESTATAL"', 'MUNICIPAL' , '"MUNICIPAL"', 'null' ) || ' , "ambitoPublico" : '|| DECODE(pd.descripcion, null,'null', 'SIN PODER', 'null', '\u00d3RGANO CONSTITUCIONAL AUT\u00d3NOMO', '"ORGANISMOS_AUTONOMOS"' ,'"ORGANISMO_AUTONOMO"', '"ORGANISMOS_AUTONOMOS"', '"'||pd.descripcion||'"') || ' , "nombreEntePublico" : '||DECODE(el.EMPRESA, null, 'null', '"'||replace(el.EMPRESA, '"', '')||'"') || ' , "areaAdscripcion" : ' || DECODE(els.AREA, null, 'null', '"'||replace(els.AREA, '"', '') ||'"')|| ' , "empleoCargoComision" : ' ||DECODE(els.PUESTO, null , 'null' , '"'||replace(replace(els.PUESTO, '"', ''),'\','/')||'"')|| ' , "funcionPrincipal" : ' || DECODE(els.FUNCION, null, 'null', '"'||regexp_substr(els.FUNCION,'[A-Za-z ]+')||'"') ||'}','null')|| ' , "sectorPrivadoOtro" : ' || DECODE(sec.descripcion, 'PUBLICO', 'null', '{ "nombreEmpresaSociedadAsociacion" : '|| DECODE(el.EMPRESA, null, 'null', '"'||replace(el.EMPRESA, '"', '')||'"') || ' , "rfc" : null '|| ' , "area" : '|| DECODE(els.AREA, null, 'null', '"'||replace(els.AREA, '"', '')||'"')|| ' , "empleoCargo" : ' ||DECODE(els.PUESTO, null , 'null' , '"'||replace(replace(els.PUESTO, '"', ''), '\', '/')||'"')|| ' , "sector" : null' || ' , "sectorOtro" : null' ||'}')|| ' , "ubicacion" : null  , "fechaIngreso" : ' || DECODE(els.FECHA_INGRESO, null , 'null', '"'||to_char(els.FECHA_INGRESO, 'YYYY-MM-DD')||'"')|| ' , "fechaEgreso" : ' || DECODE(els.FECHA_EGRESO, null , 'null', '"'||to_char(els.FECHA_EGRESO, 'YYYY-MM-DD')||'"') || '}}' as \"registro\" from declaranet.experiencia_laboral el join declaranet.experiencias_laborales els on el.id_experiencia_laboral = els.id_experiencia_laboral left join declaranet.cat_sector sec on sec.id_sector = el.id_sector left join declaranet.cat_poder pd on pd.id_poder = el.id_poder left join declaranet.cat_ambito am on am.id_ambito = el.id_ambito where no_declaracion = ? order by no_declaracion asc

moduloDatosParejas = select '{ "id" : '||decode(deE.ID_DEPENDIENTE_ECONOMICO, null , 'null' , '"'||deE.ID_DEPENDIENTE_ECONOMICO||'"')|| ' , "idPosicionVista" : "'||(rownum )|| '" , "registroHistorico" : true , "verificar" : false , "tipoOperacion" : null , "datosPersonales" : {'|| ' "nombre" :'||decode(deE.NOMBRE , null , 'null', '"'||deE.NOMBRE||'"')|| ' , "primerApellido" : '||decode(deE.PRIMER_APELLIDO , null , 'null', '"'|| deE.PRIMER_APELLIDO||'"')|| ' , "segundoApellido" : '|| decode(deE.SEGUNDO_APELLIDO , null , 'null', '"'||deE.SEGUNDO_APELLIDO||'"')|| ' , "rfc" : null , "fechaNacimiento" : '||decode(deE.FECHA_NACIMIENTO , null ,'null' , '"'||to_char(deE.FECHA_NACIMIENTO, 'YYYY-MM-DD')||'"')||'}'|| ' , "relacionConDeclarante" : '||decode(pr.id_parentesco, null, 'null' , 2,'"CONYUGE"', 11, '"CONCUBINARIO"',12,'"CONCUBINARIO"')|| ' , "ciudadanoExtranjero" : {  "esExtranjero" : '||decode(deE.ES_EXTRANJERO, 0, 'false', 1, 'true' , null , 'null', 'null')|| ' , "curp" : '||decode(deE.ES_EXTRANJERO, 1, 'null' , null , 'null' , decode(deE.CURP, null, 'null', '"'||deE.CURP||'"'))||'} , "esDependienteEconomico" : '|| decode(deEs.ES_DEPENDIENTE, 0, 'false', 1 , 'true', null , 'null', 'null')|| ' , "habitaDomicilioDeclarante" : '|| decode(deEs.HABITA, 0 , 'false', 1 , 'true' , null, 'null', 'null')|| ' , "domicilioDependienteEconomico" : '|| decode(deEs.HABITA , 1 , 'null', '{ "lugarDondeReside" : '||decode(dom.id_origen, 1 , '"MEXICO"', 2 , '"EXTRANJERO"' , '"SE_DESCONOCE"')|| ' , "domicilio": '||decode(dom.id_origen, null ,'null', 0 , 'null' , '{ "ubicacion" : '||decode(dom.id_origen, 1 , '"MEXICO"', 2 , '"EXTRANJERO"' , 'null')|| ' , "domicilioMexico" : '||decode(dom.id_origen , 1, '{ "calle" : '||decode(dom.calle, null , 'null', '"'||replace(dom.calle, '"', '')||'"')|| ' , "codigoPostal" : ' || decode(dom.codigo_postal, null, 'null' , '"'||dom.codigo_postal||'"')|| ' , "coloniaLocalidad" : ' || decode(dom.localidad, null , 'null' , '"'||dom.localidad||'"')|| ' , "entidadFederativa" : null'|| ' , "municipioAlcaldia" : null'|| ' , "numeroExterior" : ' ||decode(dom.numero_exterior, null , 'null' , '"'||replace(replace(dom.numero_exterior, '"', ''),'\\', '')||'"')|| ' , "numeroInterior" : ' ||decode(dom.numero_interior, null, 'null', '"'||replace(replace(dom.numero_interior, '"', ''),'\\', '')||'"')||'}', 'null')|| ' , "domicilioExtranjero" : '|| decode(dom.id_origen , 2 , '{'|| ' "calle" : '||decode(dom.calle, null , 'null', '"'||replace(dom.calle, '"', '')||'"')|| ' , "ciudadLocalidad" : '|| decode(dom.pais_ciudad_ext, null , 'null' , '"'||dom.pais_ciudad_ext||'"')|| ' , "codigoPostal" : '|| decode(dom.codigo_postal, null, 'null' , '"'||dom.codigo_postal||'"')|| ' , "estadoProvincia" :'|| decode(dom.estado_prov_ext, null, 'null' , '"'||dom.estado_prov_ext||'"')|| ' , "numeroExterior" : ' || decode(dom.numero_exterior, null , 'null' , '"'||replace(replace(dom.numero_exterior, '"', ''),'\\', '')||'"')|| ' , "numeroInterior" : ' || decode(dom.numero_interior, null, 'null', '"'||replace(replace(dom.numero_interior, '"', ''),'\\', '')||'"')|| ' , "pais" : null'||'}', 'null') ||' }')||'}')||', "ninguno" : true , "actividadLaboral" : null }' as \"registro\" from declaranet.dependiente_economico deE join declaranet.dependientes_economicos deEs on dee.id_dependiente_economico = deEs.id_dependiente_economico join declaranet.cat_sexo sx on sx.id_sexo = deE.id_sexo join declaranet.cat_parentesco pr on pr.id_parentesco = dee.id_parentesco left join declaranet.cat_dependencia dep on dep.id_dependencia = deEs.id_dependencia left join declaranet.domicilio dom on dom.id_domicilio = dees.id_domicilio where no_declaracion = ? and pr.id_parentesco in (2,11,12) order by pr.id_parentesco asc

moduloDependientesEco = select '{ "id" : '||decode(deE.ID_DEPENDIENTE_ECONOMICO, null , 'null' , '"'||deE.ID_DEPENDIENTE_ECONOMICO||'"')|| ' , "idPosicionVista" : "'||(rownum )||'" , "registroHistorico" : true , "verificar" : false , "tipoOperacion" : null  , "datosPersonales" : {  "nombre" :'|| decode(deE.NOMBRE , null , 'null', '"'||deE.NOMBRE||'"')|| ' , "primerApellido" : '||decode(deE.PRIMER_APELLIDO , null , 'null', '"'||deE.PRIMER_APELLIDO||'"')|| ' , "segundoApellido" : '|| decode(deE.SEGUNDO_APELLIDO , null , 'null', '"'||deE.SEGUNDO_APELLIDO||'"')|| ' , "rfc" : null , "fechaNacimiento" : '| |decode(deE.FECHA_NACIMIENTO , null ,'null' , '"'||to_char(deE.FECHA_NACIMIENTO, 'YYYY-MM-DD')||'"')||'} , "parentescoRelacion" : null , "parentescoRelacionOtro" : null  , "ciudadanoExtranjero" : {  "esExtranjero" : '||decode(deE.ES_EXTRANJERO, 0, 'false', 1, 'true' , null , 'null', 'null')|| ' , "curp" : '||decode(deE.ES_EXTRANJERO, 1, 'null' , null , 'null' , decode(deE.CURP, null, 'null', '"'||deE.CURP||'"'))||'}'|| ' , "habitaDomicilioDeclarante" : '||decode(deEs.HABITA, 0 , 'false', 1 , 'true' , null, 'null', 'null')|| ' , "domicilioDependienteEconomico" : '||decode(deEs.HABITA , 1 , 'null', '{ "lugarDondeReside" : '||decode(dom.id_origen, 1 , '"MEXICO"', 2 , '"EXTRANJERO"' , '"SE_DESCONOCE"')|| ' , "domicilio": '||decode(dom.id_origen, null ,'null', 0 , 'null' , '{ "ubicacion" : '||decode(dom.id_origen, 1 , '"MEXICO"', 2 , '"EXTRANJERO"' , 'null')|| ' , "domicilioMexico" : '||decode(dom.id_origen , 1, '{ "calle" : '||decode(dom.calle, null , 'null', '"'||replace(dom.calle, '"', '')||'"')|| ' , "codigoPostal" : ' || decode(dom.codigo_postal, null, 'null' , '"'||dom.codigo_postal||'"')|| ' , "coloniaLocalidad" : ' ||decode(dom.localidad, null , 'null' , '"'||dom.localidad||'"')|| ' , "entidadFederativa" : null , "municipioAlcaldia" : null , "numeroExterior" : ' ||decode(dom.numero_exterior, null , 'null' , '"'||replace(replace(dom.numero_exterior, '"', ''),'\\', '')||'"')|| ' , "numeroInterior" : ' ||decode(dom.numero_interior, null, 'null', '"'||replace(replace(dom.numero_interior, '"', ''),'\\', '')||'"')||'}', 'null')|| ' , "domicilioExtranjero" : '||decode(dom.id_origen , 2 , '{ "calle" : '||decode(dom.calle, null , 'null', '"'||replace(dom.calle, '"', '')||'"')|| ' , "ciudadLocalidad" : '||decode(dom.pais_ciudad_ext, null , 'null' , '"'||dom.pais_ciudad_ext||'"')|| ' , "codigoPostal" : '||decode(dom.codigo_postal, null, 'null' , '"'||dom.codigo_postal||'"')|| ' , "estadoProvincia" :'||decode(dom.estado_prov_ext, null, 'null' , '"'||dom.estado_prov_ext||'"')|| ' , "numeroExterior" : ' ||decode(dom.numero_exterior, null , 'null' , '"'||replace(replace(dom.numero_exterior, '"', ''),'\\', '')||'"')|| ' , "numeroInterior" : ' ||decode(dom.numero_interior, null, 'null', '"'||replace(replace(dom.numero_interior, '"', ''),'\\', '')||'"')|| ' , "pais" : null'||'}', 'null') ||' }')||'}')||', "ninguno" : true , "actividadLaboral" : null }' as \"registro\" from declaranet.dependiente_economico deE join declaranet.dependientes_economicos deEs on dee.id_dependiente_economico = deEs.id_dependiente_economico join declaranet.cat_sexo sx on sx.id_sexo = deE.id_sexo join declaranet.cat_parentesco pr on pr.id_parentesco = dee.id_parentesco left join declaranet.cat_dependencia dep on dep.id_dependencia = deEs.id_dependencia left join declaranet.domicilio dom on dom.id_domicilio = dees.id_domicilio where no_declaracion = ? and pr.id_parentesco not in(2,11,12) order by pr.id_parentesco asc

moduloInmuebles = SELECT '{"id":' || DECODE(tnim.ID_INMUEBLE, null, 'null', '"'||tnim.ID_INMUEBLE||'"') || ',"idPosicionVista": "'||(rownum ) ||'" , "registroHistorico" : true , "verificar" : false , "tipoOperacion" : null , "tipoInmueble": null ,"tipoInmuebleOtro":null ,"titular":'||decode(tbim.id_titular, 1, '{"id": 1,"valor": "DECLARANTE","valorUno": "D"}', 2, '{"id": 7,"valor": "C\u00d3NYUGE","valorUno": "D"}',3, '{"id": 2,"valor": "DECLARANTE Y C\u00d3NYUGE","valorUno": "D"}',4, '{"id": 14,"valor": "CONVIVIENTE Y DEPENDIENTE ECON\u00d3MICO", "valorUno": "D"}',6, ' {"id": 9,"valor": "CONCUBINA O CONCUBINARIO U OTRO","valorUno": "D"}','null')|| ',"porcentajePropiedad":null, "superficieTerrenoM2":'||tbim.SUPERFICIE_TERRENO|| ',"superficieConstruccionM2":'||decode(tbim.superficie_construccion, null, 'null', '', NULL, tbim.superficie_construccion)||',"terceros":null ,"transmisores":null ,"formaAdquisicion": null ,"formaPago":null ,"valorAdquisicion": { "moneda": '||decode(cmn.id_moneda, 29, '{"id":96,"valor":"PESO MEXICANO"}', 'null')||', "monto":'||nvl(tnim.VALOR_ADQUISICION, tbim.VALOR)||'},"fechaAdquisicion":"'||to_char(tnim.fecha_adquisicion,'YYYY-MM-DD')||'","datoIdentificacion":"'||replace(tbim.REGISTRO_PUBLICO_PROPIEDAD, '"', '')||'","valorConformeA": null ,"motivoBaja": null, "motivoBajaOtro":null ,"valorVenta": null ,"domicilio":{"ubicacion":'|| CASE WHEN d.ID_ORIGEN = 1 THEN '"MEXICO"' WHEN d.ID_ORIGEN = 2 THEN '"EXTRANJERO"' ELSE 'null' END|| CASE WHEN D.ID_ORIGEN = 1 THEN ',"domicilioMexico": { "calle":"'||replace(d.CALLE, '"', '')||'","codigoPostal":"'||d.CODIGO_POSTAL||'","coloniaLocalidad":"'||replace(d.LOCALIDAD, '"', '')||'","entidadFederativa": null ,"municipioAlcaldia": null ,"numeroExterior":"'||replace(replace(d.NUMERO_EXTERIOR, '"', ''),'\\', '')||'" ,"numeroInterior":"'||replace(replace(d.NUMERO_INTERIOR, '"', ''),'\\', '')||'"}, "domicilioExtranjero":null'||'}}' WHEN D.ID_ORIGEN = 2 THEN ',"domicilioExtranjero": { "calle":"'||replace(d.CALLE, '"', '')||'" ,"codigoPostal":"'||d.CODIGO_POSTAL||'" ,"ciudadLocalidad":"'||d.PAIS_CIUDAD_EXT||'" ,"estadoProvincia":"'||d.ESTADO_PROV_EXT||'" ,"numeroExterior":"'||replace(replace(d.NUMERO_EXTERIOR, '"', ''),'\\', '')||'" ,"numeroInterior":"'||replace(replace(d.NUMERO_INTERIOR, '"', ''),'\\', '')||'" ,"pais":null}, "domicilioMexico":null'||'}}' ELSE ',"domicilioMexico": null,"domicilioExtranjero":null}}' END AS  \"registro\" from declaranet.bienes_inmuebles tbim left JOIN declaranet.bien_inmueble tnim on tbim.id_inmueble = tnim.id_inmueble left join declaranet.cat_forma_adquisicion cfa on cfa.id_forma_adquisicion = tnim.ID_FORMA_ADQUISICION left join declaranet.cat_moneda cmn on cmn.id_moneda = tnim.id_moneda_adquisicion left join declaranet.cat_tipo_bien ctb on ctb.id_tipo_bien = tnim.id_tipo_bien left join declaranet.cat_titular ctt on ctt.id_titular = tbim.id_titular left join declaranet.cat_tipo_operacion cto on cto.id_tipo_operacion = tbim.id_tipo_operacion left join declaranet.cat_forma_adquisicion fa on fa.id_forma_adquisicion = tbim.ID_FORMA_operacion left join declaranet.cat_moneda md on md.id_moneda = tbim.ID_MONEDA LEFT JOIN declaranet.DOMICILIO d ON d.ID_DOMICILIO = tbim.ID_DOMICILIO LEFT JOIN declaranet.CAT_ORIGEN co ON co.ID_ORIGEN = d.ID_ORIGEN LEFT JOIN declaranet.CAT_ENTIDAD ce ON ce.ID_ENTIDAD = d.ID_ENTIDAD LEFT JOIN declaranet.CAT_MUNICIPIO cm ON cm.ID_MUNICIPIO = d.ID_MUNICIPIO where tbim.no_declaracion = ? and tbim.id_tipo_operacion <> 20

moduloVehiculos = select '{"id":' || DECODE(vh.ID_VEHICULO, null, 'null', '"'||vh.ID_VEHICULO||'"') || ',"idPosicionVista": "'||(rownum ) ||'", "registroHistorico": true ,"verificar": false ,"tipoOperacion": null , "tipoVehiculo": null ,"tipoVehiculoOtro":null ,"titular": '||decode(vs.id_titular, 1, '{"id": 1,"valor": "DECLARANTE","valorUno": "D"}', 2, '{"id": 7,"valor": "C\u00d3NYUGE","valorUno": "D"}',3, '{"id": 2,"valor": "DECLARANTE Y C\u00d3NYUGE","valorUno": "D"}',4, '{"id": 14,"valor": "CONVIVIENTE Y DEPENDIENTE ECON\u00d3MICO", "valorUno": "D"}',6, ' {"id": 9,"valor": "CONCUBINA O CONCUBINARIO U OTRO","valorUno": "D"}','null') || ',"marca":"'||mvh.descripcion||'","modelo":null ,"anio":'||vh.MODELO||',"numeroSerieRegistro":"'||vh.SERIE||'" ,"terceros":null ,"transmisores":null ,"lugarRegistro":{"ubicacion":'|| CASE WHEN vs.ID_ORIGEN = 1 THEN '"MEXICO"' WHEN vs.ID_ORIGEN = 2 THEN '"EXTRANJERO"' ELSE 'null' END || CASE WHEN vs.ID_ORIGEN = 1 THEN ',"localizacionMexico": null ' WHEN vs.ID_ORIGEN = 2 THEN ',"localizacionExtranjero": null ' ELSE ',"localizacionMexico": null ,"localizacionExtranjero": null' END ||'} ,"formaAdquisicion": null ,"formaPago":null ,"valorAdquisicion": { "moneda": '||decode(mn.id_moneda, 29, '{"id":96,"valor":"PESO MEXICANO"}', 'null')||', "monto":'||vh.VALOR||'} ,"fechaAdquisicion":"'||to_char(vh.fecha_adquisicion,'YYYY-MM-DD')||'" ,"motivoBaja":null, "motivoBajaOtro":null ,"valorVenta": null }' AS \"registro\" from declaranet.vehiculo vh join declaranet.vehiculos vs on vh.id_vehiculo = vs.id_vehiculo join declaranet.cat_origen ori on ori.id_origen = vs.id_origen join declaranet.cat_forma_adquisicion fad ON vh.id_forma_adquisicion = fad.id_forma_adquisicion join declaranet.cat_marca_vehiculo mvh on mvh.id_marca_vehiculo = vh.id_marca_vehiculo join declaranet.cat_moneda mn on mn.id_moneda = vh.id_moneda join declaranet.cat_titular tit on tit.id_titular = vs.id_titular join declaranet.cat_pais ps on ps.id_pais = case when vs.ID_PAIS = 0 and vs.id_origen = 1 then 204 else vs.ID_PAIS end join declaranet.cat_entidad ent on ent.id_entidad = vs.id_entidad where no_declaracion = ? and (vs.ID_TIPO_OPERACION <> 18 and vs.ID_TIPO_OPERACION <> 20)

moduloMuebles = select '{"id":' || DECODE(bm.ID_BIEN_MUEBLE, null, 'null', '"'||bm.ID_BIEN_MUEBLE||'"') || ',"idPosicionVista": "'||(rownum ) ||'" , "registroHistorico" : true ,"verificar" : false ,"tipoOperacion" : null , "tipoBien": null ,"titular": '|| decode(bms.id_titular, 1, '{"id": 1,"valor": "DECLARANTE","valorUno": "D"}', 2, '{"id": 7,"valor": "C\u00d3NYUGE","valorUno": "D"}',3, '{"id": 2,"valor": "DECLARANTE Y C\u00d3NYUGE","valorUno": "D"}',4, '{"id": 14,"valor": "CONVIVIENTE Y DEPENDIENTE ECON\u00d3MICO", "valorUno": "D"}',6, ' {"id": 9,"valor": "CONCUBINA O CONCUBINARIO U OTRO","valorUno": "D"}','null')||',"descripcionGeneralBien":' || DECODE(bm.DESCRIPCION, NULL, 'null', '"'||replace(bm.DESCRIPCION, '"', '')||'"')|| ',"formaAdquisicion": null ,"formaPago":null ,"valorAdquisicion": { "moneda": '||decode(md.id_moneda, 29, '{"id":96,"valor":"PESO MEXICANO"}', 'null')||', "monto":'||bm.VALOR_ADQUISICION||'} ,"fechaAdquisicion":"'||to_char(bm.FECHA_ADQUISICION,'YYYY-MM-DD')||'" ,"terceros":null ,"transmisores":null ,"motivoBaja":null, "motivoBajaOtro":null ,"valorVenta":null }' AS \"registro\" from declaranet.bien_mueble bm left join declaranet.bienes_muebles bms on bm.id_bien_mueble = bms.id_bien_mueble left join declaranet.cat_forma_adquisicion fad ON fad.id_forma_adquisicion = bm.id_forma_adquisicion left join declaranet.cat_titular tit on tit.id_titular = bms.id_titular left join declaranet.cat_tipo_bien_mueble tb on tb.id_tipo_bien_mueble = bm.id_tipo_bien left join declaranet.cat_moneda md ON md.id_moneda = bm.ID_MONEDA_ADQUISICION where bms.no_declaracion = ? and bms.id_tipo_operacion <> 20 order by 1 asc

moduloAdeudos = select '{ "id" : '||decode(ad.ID_ADEUDO, null, 'null', '"'||ad.ID_ADEUDO||'"')|| ' , "idPosicionVista" : "'||(rownum )||'" , "registroHistorico" : true , "verificar" : false , "tipoOperacion" : null  , "titular" : '|| decode(ads.id_titular, 1, '{"id": 1,"valor": "DECLARANTE","valorUno": "D"}', 2, '{"id": 7,"valor": "C\u00d3NYUGE","valorUno": "D"}',3, '{"id": 2,"valor": "DECLARANTE Y C\u00d3NYUGE","valorUno": "D"}',4, '{"id": 14,"valor": "CONVIVIENTE Y DEPENDIENTE ECON\u00d3MICO", "valorUno": "D"}',6, ' {"id": 9,"valor": "CONCUBINA O CONCUBINARIO U OTRO","valorUno": "D"}','null')||', "tipoAdeudo" : null , "tipoAdeudoOtro" : null  , "numeroCuentaContrato" : ' ||decode(ad.NO_CONTRATO, null, 'null' , '"'||ad.NO_CONTRATO||'"')|| ' , "fechaAdquisicion" : '||decode(ad.FECHA_OTORGAMIENTO, null , 'null' , '"'||to_char(ad.FECHA_OTORGAMIENTO, 'YYYY-MM-DD')||'"' )|| ' , "montoOriginal" : { "moneda" : '||decode(mn.id_moneda, 29, '{"id":96,"valor":"PESO MEXICANO"}', 'null')||' , "monto" : '||decode(ad.MONTO, null, 'null' , ad.MONTO)||'} , "saldoInsoluto" : '||decode(ads.SALDO_INSOLUTO, null , 'null' , ads.SALDO_INSOLUTO)|| ' , "terceros" : null , "otorganteCredito" : null , "paisAdeudo" : null}' as \"registro\" from declaranet.adeudos ads join declaranet.adeudo ad on ads.id_adeudo = ad.id_adeudo left join declaranet.cat_institucion_adeudo ina on ina.ID_INSTITUCION_ADEUDO = ad.ID_INSTITUCION_ADEUDO left join declaranet.CAT_TIPO_ADEUDO tad on tad.id_tipo_adeudo = ad.id_tipo_adeudo left join declaranet.cat_moneda mn on mn.id_moneda = ad.id_moneda left join declaranet.cat_moneda mninsoluto on mninsoluto.id_moneda = mn.id_moneda left join declaranet.cat_titular tit on tit.id_titular = ads.id_titular left join declaranet.cat_origen ori on ori.id_origen = ad.id_origen where no_declaracion = ? and (ads.ID_TIPO_OPERACION <> 20 and ads.ID_TIPO_OPERACION <> 8 )

moduloInversiones = SELECT '{"id":' || DECODE(iv.ID_INVERSION, null, 'null', '"'||iv.ID_INVERSION||'"') || ',"idPosicionVista": "'||(rownum ) ||'" , "registroHistorico" : true ,"verificar" : false ,"tipoOperacion" : null ,"tipoInversion":null ,"subTipoInversion":null ,"titular":'||decode(ivs.id_titular, 1, '{"id": 1,"valor": "DECLARANTE","valorUno": "D"}', 2, '{"id": 7,"valor": "C\u00d3NYUGE","valorUno": "D"}',3, '{"id": 2,"valor": "DECLARANTE Y C\u00d3NYUGE","valorUno": "D"}',4, '{"id": 14,"valor": "CONVIVIENTE Y DEPENDIENTE ECON\u00d3MICO", "valorUno": "D"}',6, ' {"id": 9,"valor": "CONCUBINA O CONCUBINARIO U OTRO","valorUno": "D"}','null')||',"terceros":null ,"numeroCuentaContrato":' || DECODE(iv.NO_CONTRATO, NULL, 'null', '"'||iv.NO_CONTRATO||'"')|| ',"ubicacion":'|| CASE WHEN iv.ID_ORIGEN = 1 THEN '"MEXICO"' WHEN iv.ID_ORIGEN = 2 THEN '"EXTRANJERO"' ELSE 'null' END|| ',"localizacionInversion":{"pais": null ,"institucionRazonSocial": {"nombre":'||DECODE(cin.descripcion, NULL, 'null', '"'||cin.descripcion||'"') || ',"rfc":null}} ,"saldo": { "moneda": '||decode(mon.id_moneda, 29, '{"id":96,"valor":"PESO MEXICANO"}', 'null')||', "monto":' || ivs.SALDO || '}}' AS \"registro\" FROM declaranet.inversion iv join declaranet.inversiones ivs on iv.id_inversion = ivs.id_inversion left join declaranet.cat_institucion cin on cin.id_institucion = iv.id_institucion left join declaranet.cat_origen ori on ori.id_origen = iv.id_origen left join declaranet.cat_moneda mon on mon.id_moneda = ivs.id_moneda WHERE no_declaracion = ? order by iv.ID_INVERSION ASC
